
@using System.Linq;
@model PagedList.IPagedList<OnlineStore.WebUI.Models.OnlineSaleProduct>
@using PagedList.Mvc;
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.min.js">
</script>
<script src="~/Scripts/ProductPage.js"></script>
<!DOCTYPE html>
<html>
<body>
    <div class="offset-sm-8">
        @*Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount*@
        @Html.PagedListPager(Model, Page_No => Url.Action("Printer", "OnlineSale",
            new { Page_No }))
    </div>
    <div class="container">
        @foreach (var item in Model)
        {
        <div class="row" style="border: 1px solid #ddd; padding-right: 0px;margin-right: 0px;">
            <div class="col-xs-4 item-photo">
                <img style="max-width:100%;" src="~/ProductImages/@item.Images.FirstOrDefault()" onclick="ShowProductDetailPage(@item.Id);" alt="Submit" width="230" height="230">
            </div>
            <div class="col-xs-5" style="border:0px solid gray">
                <h4>@item.ProductName</h4>
                <h5 style="color:#337ab7">Brand <a href="#">Dell</a></h5>
                <h6 class="title-price"><small>PRICE</small></h6>
                <h3 style="margin-top:0px;">AUD @item.PriceIncGST</h3>
                <div class="section">
                    <h6 class="title-attr" style="margin-top:15px;"><small>COLOR</small></h6>
                    <div>
                        <div class="attr" style="width:25px;background:#5a5a5a;"></div>
                        <div class="attr" style="width:25px;background:white;"></div>
                    </div>
                </div>
                <div class="section" style="padding-bottom:5px;">
                    <h6 class="title-attr"><small>MEMORY</small></h6>
                    <div>
                        <div class="attr2">256 GB</div>
                        <div class="attr2">32 GB</div>
                    </div>
                </div>
                <div class="section" style="padding-bottom:5px;">
                    <h6 class="title-attr"><small>AVAILABLE STOCK @item.QtyAvailable</small></h6>
                    <div>
                        <div class="btn-minus"><span class="glyphicon glyphicon-minus"></span></div>
                        <input value="1" />
                        <div class="btn-plus"><span class="glyphicon glyphicon-plus"></span></div>
                    </div>
                </div>
                @using (Html.BeginForm("AddToCart", "OnlineSale", new { @id = item.Id, @returnUrl = Request.Url.PathAndQuery }, FormMethod.Post))
                {
                    <div class="section" style="padding-bottom:5px;">
                        <button class="btn btn-success"><span style="margin-right:20px" class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> Add to cart</button>
                        <h6>
                            <a href="#">
                                <span class="glyphicon glyphicon-heart-empty" style="cursor:pointer;"></span>
                                Add to wish list
                            </a>
                        </h6>
                    </div>
                }
            </div>
        </div>
        }

    </div>
</body>
</html>

<style>
    ul > li {
        margin-right: 0px;
        font-weight: lighter;
        cursor: pointer
    }

    li.active {
        border-bottom: 3px solid silver;
    }

    .item-photo {
        display: flex;
        justify-content: center;
        align-items: center;
        border-right: 1px solid #f6f6f6;
    }

    .menu-items {
        list-style-type: none;
        font-size: 11px;
        display: inline-flex;
        margin-bottom: 0;
        margin-top: 20px
    }

    .btn-success {
        width: 100%;
        border-radius: 0;
    }

    .section {
        width: 70%;
        margin-left: -15px;
        padding: 2px;
        padding-left: 5px;
        padding-right: 5px;
        background: #f8f9f9
    }

    .title-price {
        margin-top: 30px;
        margin-bottom: 0;
        color: black
    }

    .title-attr {
        margin-top: 0;
        margin-bottom: 0;
        color: black;
    }

    .btn-minus {
        cursor: pointer;
        font-size: 7px;
        display: flex;
        align-items: center;
        padding: 5px;
        padding-left: 10px;
        padding-right: 10px;
        border: 1px solid gray;
        border-radius: 2px;
        border-right: 0;
    }

    .btn-plus {
        cursor: pointer;
        font-size: 7px;
        display: flex;
        align-items: center;
        padding: 5px;
        padding-left: 10px;
        padding-right: 10px;
        border: 1px solid gray;
        border-radius: 2px;
        border-left: 0;
    }

    div.section > div {
        width: 100%;
        display: inline-flex;
    }

        div.section > div > input {
            margin: 0;
            padding-left: 5px;
            font-size: 10px;
            padding-right: 5px;
            max-width: 18%;
            text-align: center;
        }

    .attr, .attr2 {
        cursor: pointer;
        margin-right: 5px;
        height: 20px;
        font-size: 10px;
        padding: 2px;
        border: 1px solid gray;
        border-radius: 2px;
    }

        .attr.active, .attr2.active {
            border: 1px solid orange;
        }
</style>
<script>
      function ShowProductDetailPage(ProductId) {
        $.ajax({
            type: "GET",
            data: { "ProductId": ProductId },
            url: '@Url.Action("ProductDetail", "OnlineSale")',

            success: function (data) {
               // alert(data);
                $.confirm({
                    boxWidth: '800px',
                    useBootstrap: false,
                    title: '',
                    content: data,
                    closeIcon: true,

                    buttons: {
                        yes: { isHidden: true }
                    },
                });
            }
        });
    }
</script>


