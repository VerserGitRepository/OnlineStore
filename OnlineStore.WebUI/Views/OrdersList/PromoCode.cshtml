@model OnlineStore.WebUI.Models.OrderViewModel



<div class="table table-responsive" style="padding:20px;">
    <div class="card">
        <div class="card-header">
            Add Promo Code
        </div>
        @using (Html.BeginForm("ApplyPromoCode", "OrdersList", FormMethod.Post))
        {
            @Html.HiddenFor(model => model.promoCodeModel.ProductID_FK)
            <div class="card-body">
                <div class="col-md-6" style="padding-top:10px">
                   
                    @*@Html.EditorFor(model => model.promoCodeModel.PromoCode, new { htmlAttributes = new { @class = "form-control", @id = "promoCode", @style = "width:200px;", required } })*@
            
                    <input type="text" id="PromoCode" name="@Model.promoCodeModel.PromoCode" value="" required placeholder="PromoCode" />
                    @Html.ValidationMessageFor(model => model.promoCodeModel.PromoCode, "", new { @class = "text-danger" })
                </div>

                <div class="col-md-6" style="padding-top:10px">
                    @*<label class="control-label">Promo Discount Percentage</label>
                    <br />*@
                    @*@Html.EditorFor(model => model.promoCodeModel.PromoDiscountPercent, new { htmlAttributes = new { @class = "form-control", @id = "discount", @style = "width:200px;" } })*@
                    <input type="text" id="discount" name="@Model.promoCodeModel.PromoDiscountPercent" value="" required placeholder="PromoDiscountPercent" />
                    @Html.ValidationMessageFor(model => model.promoCodeModel.PromoDiscountPercent, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-6" style="padding-top:10px">
                    @*<label>Start Date</label>*@
                    @*@Html.EditorFor(model => model.promoCodeModel.PromoStartDate, new { htmlAttributes = new { @class = "form-control date-picker", Id = "DatePickStartId", @style = "width:200px;" } })*@
                    <input type="text" id="DatePickStartId" name="@Model.promoCodeModel.PromoStartDate" value="" required placeholder="PromoStartDate"  />
                    @Html.ValidationMessageFor(model => model.promoCodeModel.PromoStartDate, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-6" style="padding-top:10px">
                    @*<label class="control-label">End Date</label>*@
                    @*@Html.EditorFor(model => model.promoCodeModel.PromoEndDate, new { htmlAttributes = new { @class = "form-control date-picker", Id = "DatePickEndId", @style = "width:200px;" } })*@
                    <input type="text" id="PromoCode" name="@Model.promoCodeModel.PromoCode" value="" required placeholder="PromoCode" />
                    @Html.ValidationMessageFor(model => model.promoCodeModel.PromoEndDate, "", new { @class = "text-danger" })<br />
                </div>
                <div class="col-md-6" style="padding-top:10px">
                    <button type="submit" class="btn btn-warning btn-lg" id="btnregister" style="margin-bottom:10px" , onclick = "validateFormData(this)">
                        <span class="glyphicon glyphicon-ok-sign"></span> Save
                    </button>
                </div>
            </div>
        }
    </div>
</div>
<script>
    $(document).ready(function (e) {
    });
    function validateFormData()
    {
        var promocodeProdID = $("#ProductID_FK").val();
        var promocodeVal = $("#promoCode").val();
        var discountVal = $("#discount").val();
        var DatePickStartIdVal = $("#DatePickStartId").val();
        var DatePickEndIdVal = $("#DatePickEndId").val();

         $.ajax({
            type: "Post",
            data: {
                "Id": promocodeProdID, "PromoCode": "promocodeVal", "PromoDiscountPercent": "discountVal"},
            url: '@Url.Action("CreateProductPromo", "OrdersList")',
            success: function (data) {
                location.reload(true);
            }
         });

        if (promocodeVal == '') {

            alert('promocode Is Empty');
            e.preventDefault();
        }
        if (discountVal == '') {

            alert('Discount Is Empty');
            e.preventDefault();
        }
        if (DatePickStartIdVal == '') {

            alert('DatePickStart Is Empty');
            e.preventDefault();
        }
        if (DatePickEndIdVal == '') {
            alert('DatePickEnd Is Empty');
            e.preventDefault();
        }
    }



</script>